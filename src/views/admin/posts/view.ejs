<%- include('../layout/header.ejs') %>
<%- include('../layout/sidebar.ejs') %>
    <div class="content-wrapper">
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                    <h1>Blogs</h1>
                    </div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item">
                                <a href="/admin/dashboard">Dashboard</a>
                            </li>
                            <li class="breadcrumb-item">
                                <a href="/admin/posts">Index Posts</a>
                            </li>
                            <li class="breadcrumb-item active">View</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>
        <section class="content">
            <div class="card">
                <div class="card-body">	
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <colgroup>
                                <col style="width: 20%;">
                                <col style="width: 80%;">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th scope="col">Field</th>
                                    <th scope="col">Value</th>
                                </tr>
                            </thead>
                            <tbody>       
                                <% Object.entries(post.dataValues).forEach(([field, value]) => { %>
                                    <% if (field !== 'users') { %>
                                        <tr>
                                            <th scope="row"><%= field === 'user_id' ? 'User Name' : field %></th>
                                            <td>
                                                <% if (field === 'image') { %>
                                                    <img src="/upload/<%= value %>" alt="Avatar" style="max-width: 200px; height: auto;" />
                                                <% } else if (field === 'status') { %>
                                                    <%= value === 0 ? 'Disabled' : value === 1 ? 'Enabled' : '' %>
                                                <% } else if (field === 'user_id') { %>
                                                    <%= post.users.fullname %>
                                                <% } else { %>
                                                    <% if (value === null) { %>
                                                        undefined
                                                    <% } else { %>
                                                        <%= value %>
                                                    <% } %>
                                                <% } %>
                                            </td>
                                        </tr>
                                    <% } %>
                                <% }); %>       
                            </tbody>
                        </table>
                    </div>
                </div>
            </div> 
        </section>
    </div>
<%- include('../layout/footer.ejs') %>

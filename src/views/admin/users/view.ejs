<%- include('../layout/header.ejs') %>
<%- include('../layout/sidebar.ejs') %>
<div class="content-wrapper">
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1>Users</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item">
                            <a href="/admin/dashboard">Dashboard</a>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="/admin/users">Index Users</a>
                        </li>
                        <li class="breadcrumb-item active">View</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>
    <section class="content">
        <div class="card">
            <div class="card-body">    
                <div class="table-responsive">
                    <table class="table table-bordered table-striped">
                        <colgroup>
                            <col style="width: 20%;">
                            <col style="width: 80%;">
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">Field</th>
                                <th scope="col">Value</th>
                            </tr>
                        </thead>
                        <tbody>       
                            <%
                                const data = user.dataValues;
                                Object.entries(data).forEach(([field, value]) => { 
                            %>
                            <% if (field !== 'password') { %>
                            <tr>
                                <th scope="row"><%= field %></th>
                                <td>
                                    <% if (field === 'image') { %>
                                        <img src="/upload/<%= value %>" alt="Avatar" style="max-width: 200px; height: auto;" />
                                    <% } else if (field === 'role') { %>
                                        <%= value === 0 ? 'admin' : 'user' %>
                                    <% } else { %>
                                        <%= value === null ? 'undefined' : value %>
                                    <% } %>
                                </td>
                            </tr>
                            <% } %>
                            <% }); %>       
                        </tbody>
                    </table>
                </div>
            </div>
        </div> 
    </section>
</div>
<%- include('../layout/footer.ejs') %>
